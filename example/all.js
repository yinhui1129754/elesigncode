import "./../src/css/main.css"
import Main from "./../src/core/main"
import defaultData from "./data"
var bgImg = new Image()
bgImg.src= 'data:image/png;base64,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'
var m = new Main({
    ele:null,
    pen:"writing",
    // bgImg:bgImg,
    // bgImgDrawCall(ctx,img,main){
    //     ctx.drawImage(img,0,0)
    // },
    drawMode:1
});
m.init();
m.moutedEle(document.getElementById("testEle"));
function distance(a, b) {
    var x = b.x - a.x, y = b.y - a.y;
    return Math.sqrt(x * x + y * y);
}
m.addPen("fangkuai", "./1.png", function(main, penObj){
    var self = main.draw
    var arr = self.main.data.buffer
    var i = 0;
    var c2d = self.memCvs2d;
    c2d.clearRect(0, 0, self.memCvs.width, self.memCvs.height)
    c2d.save();
    c2d.scale(self.scalc, self.scalc);
    for (i = 0; i < arr.length; i++) {
        this.drawLine&&this.drawLine(c2d,arr[i],main,penObj);
    }
    c2d.restore();
}, function () {
    //解锁绘制 
    m.draw.unlock();
    var data = m.toJson()
    debugger;
    m.jsonTo(JSON.parse(data));
}, function (main, penObj, pos) {
    main.dropData.nowLine = new EleSign.STRUCT.Line(main.pen)
    main.dropData.nowLine.pushPoint(new EleSign.STRUCT.Point(pos.x, pos.y));
    main.data.pushData(main.dropData.nowLine);
}, function(main, penObj, pos){
    main.dropData.nowLine.pushPoint(new EleSign.STRUCT.Point(pos.x, pos.y));
    main.draw.draw();
}, function (main, penObj, pos) {
    main.draw.draw();
},{
    drawLine:function(c2d,line,main,penObj){
        var q=0,w=0;
        if(!line.points.length){
            return;
        }
        
        var pointArr = []
        for (q = line.points.length - 1; q > 0; q--) {
            var x = line.points[q].x
            var y = line.points[q].y
            var p1 = line.points[q]
            var p2 = line.points[q - 1]
            var dis = distance(p2, p1)
            if (p2) {
                var len2 = Math.round(dis / 2) + 1;
                for (w = 0; w < len2; w++) {
                    x = p1.x + (p2.x - p1.x) / len2 * w;
                    y = p1.y + (p2.y - p1.y) / len2 * w;
                    pointArr.push({
                        x: x,
                        y: y
                    })
                }
            }
        }
        var l = main.option.writingMaxLine
        for (w = pointArr.length - 1; w > 0; w--) {
            if (pointArr.length > 100 && w < 60) {
                l = l + 0.2;
                if (l > main.option.writingMaxLine) l = main.option.writingMaxLine;
            } else {
                l = l - 0.2;
                if (l < main.option.writingMinLine) l = main.option.writingMinLine;
            }
            c2d.drawImage(penObj.img, pointArr[w].x, pointArr[w].y, l, l);
        }

    },
});


var undo = document.getElementById("undo");
var redo  = document.getElementById("redo");
var getJson  = document.getElementById("getJson");
var downloadPng = document.getElementById("downloadPng");
undo.addEventListener("click",function(){
    m.undo();
})
redo.addEventListener("click",function(){
    m.redo();
})
getJson.addEventListener("click",function(){
    var jsonStr = m.toJson();
    console.log( jsonStr);
    alert(jsonStr);
})
downloadPng.addEventListener("click",function(){
    var baseUrl = m.toPng();
    var a= document.createElement("a");
    document.body.appendChild(a);
    a.setAttribute("href",baseUrl);
    a.setAttribute("download","png图片");
    a.click();
    document.body.removeChild(a);
})

window.testMain = m;

