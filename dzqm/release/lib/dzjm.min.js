!function(g){var A={};function C(I){if(A[I])return A[I].exports;var t=A[I]={i:I,l:!1,exports:{}};return g[I].call(t.exports,t,t.exports,C),t.l=!0,t.exports}C.m=g,C.c=A,C.d=function(g,A,I){C.o(g,A)||Object.defineProperty(g,A,{enumerable:!0,get:I})},C.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},C.t=function(g,A){if(1&A&&(g=C(g)),8&A)return g;if(4&A&&"object"==typeof g&&g&&g.__esModule)return g;var I=Object.create(null);if(C.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:g}),2&A&&"string"!=typeof g)for(var t in g)C.d(I,t,function(A){return g[A]}.bind(null,t));return I},C.n=function(g){var A=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(A,"a",A),A},C.o=function(g,A){return Object.prototype.hasOwnProperty.call(g,A)},C.p="",C(C.s=0)}([function(g,A,C){"use strict";function I(g){this.struct=g}C.r(A),I.prototype={constructor:I,init:function(){}};var t=I;function i(g,A,C,I,t,i){var n=t||void 0;Object.defineProperty(g,A,{get:function(){return I&&I(n),n},set:function(g){var A=n;i&&i(g)||(n=g),C&&C(n,A)}})}function n(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function e(g){return"[object String]"===Object.prototype.toString.call(g)}function o(g){return"[object Number]"===Object.prototype.toString.call(g)}function s(g){return"[object Boolean]"===Object.prototype.toString.call(g)}function r(g){return e(g)||s(g)||o(g)}function h(g){return"[object Function]"===Object.prototype.toString.call(g)}function a(g){return"[object Object]"===Object.prototype.toString.call(g)}function c(g){return void 0===g}function d(g){return null===g}function u(g){return!c(g.length)}function l(g){return g instanceof Window}function p(g,A){for(var C=0;C<A.length;C++)item=A[C],r(item)||h(item)||item instanceof Node||d(item[key])?g.push(item):a(item)?(a(g[C])||(g[C]={}),m(g[C],item)):u(item)&&(u(g[C])||(g[C]=[]),p(g[C],item));return g}function m(){var g,A,C=[].slice.call(arguments),I=C[0],t=C.length,i=1;if(a(I))for(;i<t;i++)if(a(g=C[i]))for(A in g)r(g[A])||h(g[A])||g[A]instanceof Node||d(g[A])||l(g[A])?I[A]=g[A]:a(g[A])?(a(I[A])||(I[A]={}),m(I[A],g[A])):u(g[A])&&(u(I[A])||(I[A]=[]),p(I[A],g[A]));return I}var f={},v=[];function w(g,A){return f[g="HHSJ-"+g]=function(){A&&A.apply(this,arguments)},v.unshift((function(){})),v[0].prototype=new t(g),f[g].prototype=new v[0],f[g]}function b(g,A){return void 0!==window.getComputedStyle?window.getComputedStyle(g)[A]:g.currentStyle[A]}function L(g){return"relative"===b(g,"position")||"absolute"===b(g,"position")||"fxied"===b(g,"position")}function y(g){if(g.getBoundingClientRect)return g.getBoundingClientRect().top;var A,C=g,I=C.offsetTop;for(C=C.parentNode;C&&1!==C.nodeType;)L(C)&&(I+=C.offsetTop),C=C.parentNode;return I-(window.pageYOffset?A=window.pageYOffset:document.compatMode&&"BackCompat"!=document.compatMode?A=document.documentElement.scrollTop:document.body&&(A=document.body.scrollTop),A)}function D(g){if(g.getBoundingClientRect)return g.getBoundingClientRect().left;var A,C=g,I=C.offsetLeft;for(C=C.parentNode;C&&1!==C.nodeType;)L(C)&&(I+=C.offsetLeft),C=C.parentNode;return I-(window.pageXOffset?A=window.pageXOffset:document.compatMode&&"BackCompat"!=document.compatMode?A=document.documentElement.scrollLeft:document.body&&(A=document.body.scrollLeft),A)}var M={DEFAULT:0,LINE_SAVE:1},Z={ele:null,color:"#333333",lineWidth:4,bgColor:-1,drawMode:0,pen:"default",writingMaxLine:20,writingMinLine:10,bgImg:null,bgImgDrawCall:null},E=w("draw",(function(g,A){this.cvs=g,this.c2d=g.getContext("2d"),this.main=A,this.memCvs=document.createElement("canvas"),this.memCvs2d=this.memCvs.getContext("2d"),this.scalc=1,this.isLock=!1}));m(E.prototype,{init:function(){},lock:function(){this.isLock=!0},unlock:function(){this.isLock=!1,this.draw()},resize:function(g,A){this.cvs.setAttribute("width",g),this.cvs.setAttribute("height",A),this.c2d=this.cvs.getContext("2d"),this.memCvs.setAttribute("width",g*this.scalc),this.memCvs.setAttribute("height",A*this.scalc),this.memCvs2d=this.memCvs.getContext("2d"),this.draw()},draw:function(){if(this.main.destoryKey)return console.log("object is destory!!");if(!this.isLock){if(this.main.drawMode===M.DEFAULT)this.main.penList[this.main.pen]&&this.main.penList[this.main.pen].penCall(this.main,this.main.penList[this.main.pen]);else if(this.main.drawMode===M.LINE_SAVE){var g=this.main.data.buffer,A=0,C=this.memCvs2d;for(C.clearRect(0,0,this.memCvs.width,this.memCvs.height),C.save(),C.scale(this.scalc,this.scalc),A=0;A<g.length;A++){var I=g[A].pen||"default";this.main.penList[I]?this.main.penList[I].drawLine(C,g[A],this.main,this.main.penList[I]):this.main.penList.default.drawLine(C,g[A],this.main,this.main.penList.default)}C.restore()}this.c2d.clearRect(0,0,this.cvs.width,this.cvs.height),this.main.option.bgImg&&(this.main.option.bgImgDrawCall?this.main.option.bgImgDrawCall(this.c2d,this.main.option.bgImg,this.main):this.c2d.drawImage(this.main.option.bgImg,0,0,this.cvs.width,this.cvs.height)),this.main.option.bgImgDrawCall&&this.main.option.bgImgDrawCall(this.c2d,this.main.option.bgImg,this.main),-1!=this.main.option.bgColor&&(this.c2d.fillStyle=this.main.option.bgColor,this.c2d.fillRect(0,0,this.cvs.width,this.cvs.height)),this.c2d.drawImage(this.memCvs,0,0,this.cvs.width,this.cvs.height)}}});var R=E,j=w("point",(function(g,A){this.x=g,this.y=A}));m(j.prototype,{copy:function(){return new j(this.x,this.y)},toJson:function(){return{x:this.x,y:this.y}},jsonTo:function(g){this.x=g.x,this.y=g.y}});var W=j,G=w("line",(function(g){this.points=[],this.color="#333333",this.lineWidth=4,this.pen=g||"default"}));m(G.prototype,{setPen:function(g){this.pen=g},getPen:function(){return this.pen},pushPoint:function(g){this.points.push(g)},unshiftPoint:function(g){this.points.unshift(g)},setLineWidth:function(g){this.lineWidth=g},copy:function(){for(var g=new G,A=[],C=0;C<this.points.length;C++)A.push(this.points[C].copy());return g.color=this.color,g.setLineWidth(this.lineWidth),g},setColor:function(g){this.color=g},toJson:function(){for(var g=[],A=0;A<this.points.length;A++)g.push(this.points[A].toJson());return{points:g,color:this.color,lineWidth:this.lineWidth,pen:this.pen}},jsonTo:function(g){this.color=g.color,this.lineWidth=g.lineWidth,this.pen=g.pen;for(var A=0;A<g.points.length;A++){var C=new W(g.points[A].x,g.points[A].y);this.points.push(C)}return this.points}});var Y=G,O=w("data",(function(g){this.buffer=[],this.main=g}));m(O.prototype,{init:function(){},getSize:function(){return this.buffer.length},pushData:function(g){this.buffer.push(g)},popData:function(){return this.buffer.pop()},clear:function(){this.buffer.length=0},toJson:function(){for(var g=[],A=0;A<this.buffer.length;A++)g.push(this.buffer[A].toJson());return g},jsonTo:function(g){this.clear();for(var A=0;A<g.length;A++){var C=new Y;C.jsonTo(g[A]),this.buffer.push(C)}return this.buffer}});var P=O,x=w("event",(function(g){this.eventBuffer={},this.main=g,this.touch=null,this.isEle=!1,this.mousedown=function(g){this.main.readOnly||(g.preventDefault(),this.isEle=!0,n()?(this.touch=g.changedTouches[0],this.main.pointStart({clientX:this.touch.clientX,clientY:this.touch.clientY})):this.main.pointStart({clientX:g.clientX,clientY:g.clientY}))}.bind(this),this.mousemove=function(g){!0===this.isEle&&(g.preventDefault(),n()?(this.touch=g.changedTouches[0],this.main.pointMove({clientX:this.touch.clientX,clientY:this.touch.clientY})):this.main.pointMove({clientX:g.clientX,clientY:g.clientY}))}.bind(this),this.mouseup=function(g){!0===this.isEle&&(this.isEle=!1,g.preventDefault(),n()?(this.touch=g.changedTouches[0],this.main.pointEnd({clientX:this.touch.clientX,clientY:this.touch.clientY})):this.main.pointEnd({clientX:g.clientX,clientY:g.clientY}))}.bind(this)}));m(x.prototype,{on:function(g,A){this.eventBuffer[g]||(this.eventBuffer[g]=[]),this.eventBuffer[g].push(A)},off:function(g,A){if(this.eventBuffer[g]&&this.eventBuffer[g].length){var C=this.eventBuffer[g].indexOf(A);-1!==C&&this.eventBuffer[g].splice(C,1)}},once:function(g,A){A.isOnce=!0,this.on(g,A)},sendEvent:function(g){var A,C,I=this.eventBuffer[g],t=[];for(A=0;A<I.length;A++)C=I[A],I[A].isOnce?t.push(C):C&&C(this.main,Array.prototype.slice.call(arguments,1));for(A=0;A<t.length;A++)C=t[A],this.off(g,C),C&&C(this.main,Array.prototype.slice.call(arguments,1))},bindEvent:function(g){g.style.cssText="touch-action: pan-y;",n()?(g.addEventListener("touchstart",this.mousedown),document.addEventListener("touchmove",this.mousemove),document.addEventListener("touchend",this.mouseup)):(g.addEventListener("mousedown",this.mousedown),document.addEventListener("mousemove",this.mousemove),document.addEventListener("mouseup",this.mouseup))},unbindEvent:function(g){n()?(g.removeEventListener("touchstart",this.mousedown),document.removeEventListener("touchmove",this.mousemove),document.removeEventListener("touchend",this.mouseup)):(g.removeEventListener("mousedown",this.mousedown),document.removeEventListener("mousemove",this.mousemove),document.removeEventListener("mouseup",this.mouseup))}});var N=x,T=w("image",(function(g){this.main=g}));m(T.prototype,{load:function(g,A){var C=new Image;C.src=g,C.complete?A&&A(C,g,1):(C.onload=function(){A&&A(C,g,1),C.onload=null},C.onerror=function(){var C=document.createElement("canvas");C.width=20,C.height=20,A&&A(C,g,0)})},loadArr:function(g,A){var C,I=0,t={};for(C=0;C<g.length;C++)this.load(g[C],(function(C,i,n){I++,t[i]={img:C,isSuccess:n},I===g.length&&A&&A(imgArr)}))}});var z=T;function K(g,A){var C=A.x-g.x,I=A.y-g.y;return Math.sqrt(C*C+I*I)}var X={default:{penCall:function(g,A){var C=g.draw,I=C.main.data.buffer,t=I.length,i=0,n=C.memCvs2d;n.clearRect(0,0,C.memCvs.width,C.memCvs.height),n.save(),n.scale(C.scalc,C.scalc);for(i=0;i<t;i++)this.drawLine&&this.drawLine(n,I[i],g,A);n.restore()},drawLine:function(g,A,C,I){if(A.points.length){g.beginPath(),g.lineWidth=A.lineWidth,g.strokeStyle=A.color,g.lineJoin="round",g.lineCap="round",g.lineTo(A.points[0].x,A.points[0].y);for(var t=1;t<A.points.length;t++)g.lineTo(A.points[t].x,A.points[t].y);g.stroke(),g.closePath()}},start:null,move:null,end:null},writing:{penCall:function(g,A){var C=g.draw,I=C.main.data.buffer,t=0,i=C.memCvs2d;for(i.clearRect(0,0,C.memCvs.width,C.memCvs.height),i.save(),i.scale(C.scalc,C.scalc),t=0;t<I.length;t++)this.drawLine&&this.drawLine(i,I[t],g,A);i.restore()},drawLine:function(g,A,C,I){var t=0,i=0;if(A.points.length){var n=[];for(t=A.points.length-1;t>0;t--){var e=A.points[t].x,o=A.points[t].y,s=A.points[t],r=A.points[t-1],h=K(r,s);if(r){var a=Math.round(h/2)+1;for(i=0;i<a;i++)e=s.x+(r.x-s.x)/a*i,o=s.y+(r.y-s.y)/a*i,n.push({x:e,y:o})}}var c=C.option.writingMaxLine;for(i=n.length-1;i>0;i--)n.length>100&&i<60?(c+=.2)>C.option.writingMaxLine&&(c=C.option.writingMaxLine):(c-=.2)<C.option.writingMinLine&&(c=C.option.writingMinLine),g.drawImage(I.img,n[i].x,n[i].y,c,c)}},start:function(g,A,C){g.dropData.nowLine=new Y(g.pen),g.dropData.nowLine.pushPoint(new W(C.x,C.y)),g.data.pushData(g.dropData.nowLine)},move:function(g,A,C){g.dropData.nowLine.pushPoint(new W(C.x,C.y)),g.draw.draw()},end:function(g,A,C){g.draw.draw()}}},S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5z2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE3LTA3LTA1VDE2OjM2OjA1KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMDctMDVUMTY6NTA6MTUrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE3LTA3LTA1VDE2OjUwOjE1KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjNmMmFjYzMzLWY3YzEtODA0MS1hMmI3LTIyMWM1ODRkNzVmMjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDowMTEwODRhZS00Zjc5LWYxNGMtYmIxYy02YWY5YjU0OGZmOGQ8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDowMTEwODRhZS00Zjc5LWYxNGMtYmIxYy02YWY5YjU0OGZmOGQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MDExMDg0YWUtNGY3OS1mMTRjLWJiMWMtNmFmOWI1NDhmZjhkPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTA3LTA1VDE2OjM2OjA1KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozZjJhY2MzMy1mN2MxLTgwNDEtYTJiNy0yMjFjNTg0ZDc1ZjI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMDctMDVUMTY6NTA6MTUrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjMwPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5Q7FRGAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAGFSURBVHjaxNYxaxRBGAbgZy6CYgJWCoIiEgJREElnIYqVnfkBCv6GEEghpLULCIKgP8EIFhGVWFkIQtBKBHOFNgkE0iUkXpqxmcNN2L3du+yQF77dYmGfZWb2mwkxRieRUxBC6GIbXaynexc/8bdtNMaYLnxHLKmD9OwlHuNy2/CbCrisfuE57qBzXPjpEHCxNvEM10eFH44IF2sV94aFZ1qA+/UB15rCp9FrEe/hSdUaKMKw1iLcr/eYqINfZIAjvuLcIPhRJjjiE8aq4IsZ4YjFKhh+ZIT3cbUPH111qxn3hTOYOzzR/3Mr83BvIJQNdcCfzPjNsqGOWM68FU+q6Cyv0gfkyvkquJv6ba70yhZXP7czzvHdssVVzEoG9AATdfBU+unbhD9Wda6jmW8ZftAUDnjbErqW3tcIhrP4ckx0t3guawrDON6NiO5gdtB+XJcOFrA3BPoZ03UnkKa5hCVsDRjW17g/6LAXYoxCCKN0oA5u4AoupI70G9/Sb6gWPon8GwCTij8uaaNi1gAAAABJRU5ErkJggg==",V=w("main",(function(g){this.option=m({},Z,g),this.cvs=document.createElement("canvas"),this.draw=new R(this.cvs,this),this.data=new P(this),this.image=new z(this),this.redoData=new P(this),this.event=new N(this),this.readOnly=!1,this.dropData={start:!1,startX:0,startY:0,nowLine:null},this.drawMode=g.drawMode||M.DEFAULT,this.penList={},this.pen=this.option.pen}));m(V.prototype,{setReadOnly:function(g){this.readOnly=g},isEmpty:function(){return!this.data.getSize()},init:function(){var g=this,A=0;this.option.ele&&(this.option.ele.appendChild(this.cvs),this.resize()),this.draw.lock(),this.draw.draw(),this.event.bindEvent(this.cvs),this.addPen("default","",X.default.penCall,(function(){2===++A&&g.draw.unlock()}),null,null,null,{drawLine:X.default.drawLine}),this.addPen("writing",S,X.writing.penCall,(function(){2===++A&&g.draw.unlock()}),X.writing.start,X.writing.move,X.writing.end,{drawLine:X.writing.drawLine})},moutedEle:function(g){this.option.ele=g,this.option.ele&&(this.option.ele.appendChild(this.cvs),this.resize()),this.draw.draw()},resize:function(){var g=this.option.ele.clientWidth,A=this.option.ele.clientHeight;this.draw.resize(g,A),this.draw.draw()},resizeWithNumber:function(g,A){this.draw.resize(g,A),this.draw.draw()},setColor:function(g){this.option.color=g},setLineWidth:function(g){this.option.lineWidth=g},setBgColor:function(g){this.option.bgColor=g,this.draw.draw()},clear:function(){this.data.clear(),this.redoData.clear(),this.draw.draw()},destory:function(){for(var g in this.data.clear(),this.redoData.clear(),this.event.unbindEvent(this.cvs),this.cvs.parentNode&&this.cvs.parentNode.removeChild(this.cvs),this)delete this[g];i(this,"destoryKey",null,null,1,(function(){return!0}))},undo:function(){if(!this.readOnly){var g=this.data.popData();g&&(this.redoData.pushData(g),this.draw.draw())}},redo:function(){if(!this.readOnly){var g=this.redoData.popData();g&&(this.data.pushData(g),this.draw.draw())}},toJson:function(){return JSON.stringify({data:this.data.toJson(),color:this.option.color,lineWidth:this.option.lineWidth,bgColor:this.option.bgColor,pen:this.option.pen,writingMaxLine:this.option.writingMaxLine,writingMinLine:this.option.writingMinLine,drawMode:this.drawMode})},jsonTo:function(g){this.data.jsonTo(g.data),this.option.color=g.color,this.option.lineWidth=g.lineWidth,this.option.bgColor=g.bgColor,this.option.pen=g.pen,this.option.writingMaxLine=g.writingMaxLine,this.option.writingMinLine=g.writingMinLine,this.option.drawMode=g.drawMode,this.draw.draw()},pointStart:function(g){if(!this.dropData.start){var A=g.clientX-D(this.cvs),C=g.clientY-y(this.cvs);this.dropData.start=!0,this.penList[this.pen].start?this.penList[this.pen].start(this,this.penList[this.pen],{x:A,y:C}):(this.dropData.startX=A,this.dropData.startY=C,this.dropData.nowLine=new Y(this.pen),this.dropData.nowLine.setLineWidth(this.option.lineWidth),this.dropData.nowLine.setColor(this.option.color),this.data.pushData(this.dropData.nowLine),this.draw.draw())}},pointMove:function(g){if(this.dropData.start){var A=g.clientX-D(this.cvs),C=g.clientY-y(this.cvs);this.penList[this.pen].move?this.penList[this.pen].move(this,this.penList[this.pen],{x:A,y:C}):(this.dropData.nowLine.pushPoint(new W(A,C)),this.draw.draw())}},pointEnd:function(g){if(this.dropData.start){this.dropData.start=!1;var A=g.clientX-D(this.cvs),C=g.clientY-y(this.cvs);this.penList[this.pen].end?this.penList[this.pen].end(this,this.penList[this.pen],{x:A,y:C}):this.draw.draw()}},drawEle:function(){this.draw.draw()},toPng:function(){return this.draw.draw(),this.cvs.toDataURL("image/png")},toJpeg:function(){var g,A=!1;return-1===this.option.bgColor&&(this.option.bgColor="white",A=!0),this.draw.draw(),g=this.cvs.toDataURL("image/jpeg"),A&&(this.option.bgColor=-1,this.draw.draw()),g},setPen:function(g){this.pen=g,this.draw.draw()},setDrawMode:function(g){this.drawMode=g,this.draw.draw()},getDrawMode:function(){return this.drawMode},addPen:function(g,A,C,I,t,i,n,e){var o=this;this.penList[g]={url:A,penCall:C,img:null,isSuccess:0,start:t,move:i,end:n,drawLine:e&&e.drawLine},this.image.load(A,(function(A,C,t){o.penList[g].img=A,o.penList[g].isSuccess=t,I&&I(o),o.draw.draw()}))}}),V.STRUCT={Draw:R,Line:Y,Data:P,Point:W,ImageLoad:z,ENUM_DRAW_LINE_MODE:M},window&&(window.EleSign=V);A.default=V}]);